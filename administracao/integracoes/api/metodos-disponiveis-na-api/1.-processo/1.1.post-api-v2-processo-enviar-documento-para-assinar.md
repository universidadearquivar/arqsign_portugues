---
description: >-
  O objetivo do método é permitir aos Clientes, via API, enviar processos com um
  ou mais documentos para assinar.
---

# ✔️ 1.1.POST/api/v2/processo/enviar-documento-para-assinar

Diferente da aplicação ArqSign, que permite agrupar os arquivos do processo, neste serviço quando enviado o processo com mais de um documento, o serviço considera como **uma coleção de arquivos e estes não serão agrupados em um único arquivo**. Ou seja, não é possível agrupar arquivos pelo serviço de envio de processo de documentos para assinar.&#x20;

O usuário deve informar os dados do processo e dos destinatários participantes do processo de assinatura.

## Autenticações e permissões

1. Para autenticar na API da ArqSign, o usuário deve informar a AppKey, válida, da conta que está enviando os documentos para assinaturas.
2. Somente conta com **status Ativo** e com **permissão de Integração ArqSign** pode enviar processos via integração ArqSign.
3. A conta deve possuir créditos de Envios, SMS e/ou WhatsApp, conforme necessidade.
4.  Caso a conta não possua crédito, o sistema retorna a mensagem:

    "Saldo de créditos de Envios ou WhatsApp ou SMS insuficiente"

## Requisição

**Orientações:**

Quando campo requerido estiver como “Sim” = Sempre requerido

Quando campo requerido estiver como “Não” = Informação Opcional

Quando campo requerido estiver como “Talvez” = Em alguns casos ele será requerido. Para saber estes casos, consultar a descrição do tópico, conforme o número de referência da linha na tabela.

<figure><img src="../../../../../.gitbook/assets/image (1) (1) (1) (1) (1).png" alt=""><figcaption></figcaption></figure>

### **Exemplo de Body Request**

```
{
    "idResponsavel": "guid",
    "nomeProcesso": "varchar(250)",
    "idPasta": "guid",
    "configuracoesAvancadas": {
        "tempoExpiracaoDocumentoDias": "smallint",
        "avisoAntesExpiracaoDocumentoDias": "smallint",
        "frequenciaLembretesDias": "smallint",
        "gerarQrCode": "bit",
        "obrigarLeitura": "bit"
    },
    "renovacaoMeses": "tinyint",
    "mensagemPadrao": {
        "titulo": "nvarchar(150)",
        "texto": "nvarchar(max)"
    },
    "usarOrdemAssinatura": "bit",
    "usarPosicaoAssinaturaAutomatica": "bit",
    "destinatarios": [
        {
            "idTipoAcao": "tinyint",
            "ordemAssinatura": "tinyint",
            "representacaoVisualAssinatura": "tinyint",
            "nome": "varchar(150)",
            "email": "varchar(150)",
            "telefone": "varchar(20)",
            "assinarOnline": {
                "assinarComo": "tinyint",
                "papelPessoaFisica": [
                    "varchar(50)",
                    "varchar(50)",
                    "varchar(50)"
                ],
                "papelPessoaJuridica": [
                    "varchar(50)"
                ],
                "seguranca": {
                    "codigoSeguranca": "char(4)",
                    "idMeioEnvio": "tinyint",
                    "codigoSegurancaEmail": "varchar(150)",
                    "codigoSegurancaTelefone": "varchar(20)",
                    "reenviarCodigo": "bit"
                },
                "mensagemPersonalizada": {
                    "titulo": "nVarChar(150)",
                    "texto": "nVarChar(max)"
                },
                "anexos": [
                    {
                        "anexoDocumentoNome": "VarChar(75)",
                        "anexoObrigatorio": "bit",
                        "anexoExibirTodosDestinatarios": "bit"
                    }
                ],
                "definirPosicaoAssinaturaManual": [
                    {
                        "documentoDeOrdem": "tinyint",
                        "pessoaFisica": {
                            "pagina": "int",
                            "altura": "decimal",
                            "largura": "decimal",
                            "posicaoX": "decimal",
                            "posicaoY": "decimal"
                        },
                        "pessoaJuridica": {
                            "pagina": "int",
                            "altura": "decimal",
                            "largura": "decimal",
                            "posicaoX": "decimal",
                            "posicaoY": "decimal"
                        }
                    }
                ],
                "idTipoAssinatura": "tinyint",
                "assinaturaEletronica": {
                    "obrigarSignatarioInformarNome": "bit",
                    "obrigarSignatarioInformarNumeroDocumento": "bit",
                    "tipoDocumentoAInformar": "tinyint",
                    "configuracaoDocumentoOutro": {
                        "nomeDocumento": "VarChar(50)",
                        "formatoDadosDocumento": "tinyint",
                        "qtdeCaracteresDocumento": "tinyint"
                    },
                    "obrigarSignatarioInformarNomeEmpresa": "bit",
                    "obrigarSignatarioInformarNumeroDocumentoEmpresa": "bit",
                    "tipoDocumentoEmpresaAInformar": "tinyint",
                    "configuracaoDocumentoEmpresaOutro": {
                        "nomeDocumento": "VarChar(50)",
                        "formatoDadosDocumento": "tinyint",
                        "qtdeCaracteresDocumento": "tinyint"
                    }
                },
                "dadosAssinatura": {
                    "signatario": {
                        "nome": "string",
                        "numeroDocumento": "string",
                        "validarDocumento": "bit"
                    },
                    "empresa": {
                        "nome": "string",
                        "numeroDocumento": "string",
                        "validarDocumento": "bit"
                    },
                    "dadosComplementares": [
                        {
                            "label": "string",
                            "valor": "string"
                        }
                    ]
                }
            }
        }
    ],
    "documentos": [ //somente pdf
        {
            "ordemDocumento": "tinyint",
            "nomeComExtensao": "varchar(150)",
            "arquivo": "String Base64"
        }
    ]
}
```

## Validações

### Validações específicas

**idResponsavel**

> **Descrição**: Parâmetro obrigatório informando o Id do responsável do processo. Esta informação será considerada como o responsável pelo cadastro e pelo processo, ou seja, “remetente” do processo. Desta forma, se o usuário informado autenticar na aplicação ele visualizará todos os documentos no menu “Enviados”.
>
> **Formato**: Guid
>
> **Requerido**: <mark style="color:red;">**Sim**</mark>
>
> &#x20;<mark style="color:orange;">**Validação**</mark><mark style="color:orange;">:</mark>
>
> a- O sistema valida se o id do usuário informando no parâmetro **idResponsavel** pertence a conta, em questão, permitindo usuário com status ativo, inativo ou bloqueado.

**nomeProcesso**

> **Descrição:** Parâmetro obrigatório informando o Nome do processo.
>
> **Formato:** Varchar(250)
>
> **Requerido:&#x20;**<mark style="color:red;">**Sim**</mark>
>
> <mark style="color:orange;">**Validação:**</mark>
>
> a- O sistema valida a obrigatoriedade e tamanho da String.

&#x20;**idPasta**

> **Descrição:** Parâmetro obrigatório informando Id da pasta do processo.
>
> **Formato:** Guid
>
> **Requerido:&#x20;**<mark style="color:red;">**Sim**</mark>
>
> <mark style="color:orange;">**Validação:**</mark>
>
> a- O sistema verifica se o **idPasta** pertence a conta da AppKey informada.\
> idPasta não encontrado.

#### **configuracoesAvancada**

Configurações avançadas para o processo em relação a tempo de expiração, aviso de expiração, frequência deste aviso, geração do QRCode e obrigar a leitura da coleção de arquivos do processo.

Esta parte do JSON não é obrigatória, desta forma se não for enviada ou enviada como nula, o sistema salva o processo com as configurações da conta em questão.

> #### **tempoExpiracaoDocumentoDias**
>
> **Descrição:** Parâmetro opcional informando o tempo em que o processo ficará disponível para assinatura, até que todos os signatários assinem e o processo seja concluído.
>
> **Formato:** Smallint, valores entre {1} e {999}
>
> **Requerido:&#x20;**<mark style="color:blue;">**Não**</mark>
>
> <mark style="color:orange;">**Validação:**</mark>
>
> a- Quando a informação não é enviada ou enviada como nula ou 0, o sistema considera as configurações da conta.

> #### **avisoAntesExpiracaoDocumentoDias**
>
> **Descrição:** Parâmetro opcional informando o tempo para a aplicação iniciar o aviso antes que o documento expire.
>
> **Formato:** Smallint, valores entre {1} e {99}
>
> **Requerido:&#x20;**<mark style="color:blue;">**Não**</mark>
>
> <mark style="color:orange;">**Validação:**</mark>
>
> a- Quando a informação não é enviada ou enviada como nula ou 0, considera as configurações da conta.

> #### **frequenciaLembretesDias:**
>
> **Descrição:** Parâmetro opcional informando o tempo para avisos de assinatura.
>
> **Formato:** Smallint, valores entre {1} e {999}
>
> **Requerido:&#x20;**<mark style="color:blue;">**Não**</mark>
>
> <mark style="color:orange;">**Validação:**</mark>
>
> a- Quando a informação **não é enviada ou enviada como nula**, o sistema considera as configurações da conta.

> #### **gerarQrCode**
>
> **Descrição:** Parâmetro opcional informando se o QrCode deve ser gerado ou não no momento da conclusão do processo.
>
> **Formato:** Bit, 1 = true ou 0 = false
>
> **Requerido:&#x20;**<mark style="color:blue;">**Não**</mark>
>
> <mark style="color:orange;">**Validação:**</mark>
>
> a- Se o parâmetro **gerarQrCode** não for enviado, o sistema  considera as configurações de geração de qrCode na conta.
>
> Quando para o processo em questão estiver sendo enviado uma coleção de arquivos (mais de um arquivo) para assinatura, o QrCode é gerado por arquivo. Cada arquivo terá seu QrCode e sua página de assinatura.

> #### **obrigarLeitura**
>
> **Descrição:** Parâmetro opcional informando a obrigatoriedade de leitura dos documentos ao assinar.
>
> Quando o processo em questão possuir mais de um arquivo a assinar, esta informação será usada para obrigar ou não o signatário a clicar em cada arquivo antes do botão “Assinar” ser habilitado.
>
> Caso o processo em questão possua somente um arquivo a assinar, esta informação não irá gerar nenhum impacto no processo de assinatura.
>
> **Formato:** Bit, 1 = true ou 0 = false
>
> **Requerido:&#x20;**<mark style="color:blue;">**Não**</mark>
>
> <mark style="color:orange;">**Validação:**</mark>
>
> a- Quando a informação **não é enviada ou enviada como nula**, o sistema considera as **configurações da conta**.

#### renovacaoMeses

> **Descrição:** Parâmetro opcional informando o tempo para definir quando o processo em questão precisa ser renovado.
>
> **Formato:** Tinyint
>
> **Requerido:&#x20;**<mark style="color:blue;">**Não**</mark>

#### mensagemPadrao

Mensagem padrão que será enviada para todos os destinatários definidos como signatários do processo.

> **titulo**
>
> **Descrição:** Título da mensagem a ser enviada para os signatários.
>
> **Formato:** Varchar(150)
>
> **Requerido:** <mark style="color:blue;">**Não**</mark>
>
> <mark style="color:orange;">**Validação:**</mark>
>
> a- Se o título não for enviado, o sistema salva o valor default conforme abaixo:
>
> Título = ArqSign: \[Nome do documento informado no paramento "nome"]

> **texto**
>
> **Descrição:** Texto da mensagem a ser enviada para os signatários.
>
> **Formato:** Varchar(max)
>
> **Requerido**: <mark style="color:blue;">**Não**</mark>
>
> <mark style="color:orange;">**Validação:**</mark>
>
> a- Se o texto não for enviado, o sistema e salva o valor default conforme abaixo:
>
> Texto = Você recebeu o(s) documento(s): \[Nome do documento informado no paramento "nome"] para assinaturas.

#### **usarOrdemAssinatura**

> **Descrição:** Parâmetro obrigatório informando se será usada ou não ordem de assinatura para os signatários.
>
> **Formato:** Bit, 1 = true ou 0 = false
>
> **Requerido:&#x20;**<mark style="color:red;">**Sim**</mark>
>
> <mark style="color:orange;">**Validação:**</mark>
>
> a- Quando o parâmetro **usarOrdemAssinatura** for enviado como **false**, sistema desconsidera o valor informado no parâmetro “**ordemAssinatura**” de todos os destinatários com ação de Assinar Online e envia o documento para todos os destinatários considerando como ordem 1.
>
> b- Quando o parâmetro **usarOrdemAssinatura** for enviado como **true**, sistema valida o parâmetro “**ordemAssinatura**” de todos os destinatários com ação de Assinar Online. Ou seja, o parâmetro “**ordemAssinatura**” **dos destinatários** não poderá ser zero ou null.

#### usarPosicaoAssinaturaAutomatica

> **Descrição:** Parâmetro obrigatório para indicar à aplicação se o processo em questão terá a página de assinatura ao final de cada arquivo. Nesta página a aplicação escolhe automaticamente onde cada assinatura será posicionada.
>
> **Formato:** Bit, 1 = true ou 0 = false
>
> **Requerido:&#x20;**<mark style="color:red;">**Sim**</mark>
>
> <mark style="color:orange;">**Validação:**</mark>
>
> a- Quando o parâmetro “**usarPosicaoAssinaturaAutomatica**” for **true**, então a aplicação inclui uma página no **final de cada arquivo**, com a posição da assinatura de cada destinatário com ação de Assinar Online, considerando o tipo de pessoa para cada signatário conforme descrito abaixo:
>
> * Para os signatários com o parâmetro **assinarComo** = 1 (Pessoa física), o sistema inclui na página automática a posição da assinatura do tipo **Pessoa Física** (PF).
> * Para os signatários com o parâmetro **assinarComo** = 2 (Pessoa jurídica), o sistema inclui na página automática a posição da assinatura do tipo **Pessoa Jurídica** (PJ).
> * Para os signatários com o parâmetro **assinarComo** = 3 (Pessoa física e jurídica), o sistema inclui na página automática a posição da assinatura para duas assinaturas, uma do tipo **Pessoa Física** (PF) e uma do tipo **Pessoa Jurídica** (PJ).
>
> Quando o parâmetro “**usarPosicaoAssinaturaAutomatica**” for enviado como **true** não é necessário enviar os parâmetros **definirPosicaoAssinaturaManual** (9.7.7). Mas se no JSON for enviado para algum signatário o parâmetro 9.6.7, **a informação será ignorada neste caso**.
>
>
>
> b- Quando o parâmetro **usarPosicaoAssinaturaAutomatica** for enviado como **false**, significa que o posicionamento das assinaturas para cada signatário deverá ser informado manualmente para cada arquivo do processo em questão. Sendo obrigatório enviar os dados do parâmetro **definirPosicaoAssinaturaManual (9.7.7)**
>
>
>
> {% hint style="danger" %}
> <mark style="color:red;">**Importante**</mark><mark style="color:red;">:</mark> No JSON todos os destinatários com ação de assinar online precisam ter o posicionamento da representação visual de forma automática pela aplicação ou o posicionamento para todos devem ser enviados manualmente no JSON. Não pode haver no mesmo processo alguns destinatários com posicionamento automático e outros sem posicionamento automático.
> {% endhint %}

#### destinatários

> #### **idTipoAcao**
>
> **Descrição:** Parâmetro obrigatório que define a ação do destinatário para com o documento. Atualmente existem duas opções **1 - Assinar Online** ou **2 - Receber uma cópia**.
>
> **Formato:** Tinyint: 1 - Assinar Online ou 2 - Receber uma cópia.
>
> **Requerido:&#x20;**<mark style="color:red;">**Sim**</mark>
>
> <mark style="color:orange;">**Validação:**</mark>
>
> a- É obrigatório informar para o processo de assinaturas, ao menos um destinatário com ação de “**Assinar Online**”.

> #### **ordemAssinatura**
>
> **Descrição: Parâmetro obrigatório que define a ordem de assinatura do signatário em questão.**
>
> **Formato:** Tinyint
>
> **Requerido:&#x20;**<mark style="color:red;">**Sim, quando parâmetro usarOrdemDeAssinatura = 1 (true) e quando para o destinatário em questão o idTipoAcao = 1 (AssinarOnline).**</mark>
>
> <mark style="color:red;">**Validação:**</mark>
>
> a- Quando o parâmetro “**usarOrdemDeAssinatura**” estiver sendo enviado como **True** = **1** e o destinatário em questão possuir o parâmetro **idTipoAcao** = 1 **(Assinar Online)**, então esta informação é obrigatória .
>
> **Mensagem:** - Quando o parâmetro **usarOrdemDeAssinatura** for igual a true, é obrigatório definir ordem de assinatura para o(s) signatário(s) com ação de Assinar Online.
>
> b- A aplicação não permite mesmo destinatário na mesma ordem de assinatura
>
> **Mensagem:** Existem destinatários duplicados na mesma posição de ordem de assinatura. Verifique a lista de destinatários e configure uma ordem de assinatura diferente para os destinatários duplicados ou remova os repetidos

> #### **representacaoVisualAssinatura**
>
> **Descrição:** Parâmetro opcional informando qual a representação visual de assinatura será exigida do signatário.
>
> **Formato:** Tinyint: **1 - Padrão, 2 - Desenho, 3 - Imagem**
>
> **Requerido:&#x20;**<mark style="color:blue;">**Não**</mark>
>
> <mark style="color:orange;">**Validação:**</mark>
>
> a- Quando o parâmetro **“representacaoVisualAssinatura” não for enviado** ou **enviado como null**, significa que não será exigido um estilo de assinatura específico.
>
> b- Quando informado valores, o sistema valida, permitindo somente valores iguais a 1, 2 ou 3.
>
> **Mensagem** - O parâmetro **representacaoVisualAssinatura** permite somente valor 1, 2 ou 3.

> #### **nome**
>
> **Descrição:** Parâmetro obrigatório informando o nome do destinatário que assinará o documento ou receberá uma cópia.
>
> **Formato:** Varchar (150)
>
> **Requerido:&#x20;**<mark style="color:red;">**Sim**</mark>
>
> <mark style="color:orange;">**Validação:**</mark>
>
> a- O sistema valida a obrigatoriedade e o tamanho do nome do signatário.

> #### **email**
>
> **Descrição:** Parâmetro informando o email onde o destinatário receberá o documento.
>
> **Formato:** Varchar(150)
>
> **Requerido:** <mark style="color:red;">**Email ou Telefone são obrigatórios**</mark>
>
> <mark style="color:orange;">**Validação:**</mark>
>
> a- O sistema valida a **obrigatoriedade** do e-mail ou telefone.
>
> **Mensagem** - O parâmetro **email ou telefone** é obrigatório.
>
> b- Somente é permitido **e-mail válido**.
>
> **Mensagem** - E-mail inválido.
>
> c- Somente **é permitido informar** **e-mail ou telefone.**
>
> Quando o usuário informar os dois campos, o sistema retorna a mensagem:
>
> **Mensagem** - Somente é possível enviar o processo para um e-mail ou telefone. Escolha uma forma de envio.

> #### **telefone**
>
> **Descrição:** Parâmetro informando o telefone onde o destinatário receberá o documento. Enviando o número do telefone, significa que o documento será enviado por **WhatsApp**.
>
> **Formato:** Varchar (20)
>
> **Requerido:** <mark style="color:red;">**Email ou Telefone são obrigatórios**</mark>
>
> <mark style="color:orange;">**Validação:**</mark>
>
> a- O sistema valida a **obrigatoriedade** do e-mail ou telefone.
>
> **Mensagem** - O parâmetro **email ou telefone** é obrigatório.
>
> b- Sistema valida o telefone informado:
>
> **Mensagem** - Telefone inválido.
>
> c- Somente **é permitido informar e-mail ou telefone**.
>
> Quando o usuário informar os dois campos, o sistema retorna a mensagem:
>
> **Mensagem** - Somente é possível enviar o processo para um e-mail ou telefone. Escolha uma forma de envio.
>
> d- Somente é possível enviar processo por WhatsApp, quando o destinatário atender a um dos requisitos abaixo:
>
> **A:** For assinar o documento eletronicamente **idTipoAcao = 1 (Assinar Online) e idTipoAssinatura = 1 (Assinatura Eletrônica)**
>
> **B:** For receber uma cópia: **idTipoAcao = 2 (Receber uma cópia)**
>
> **Mensagem** - Somente é possível enviar processos por WhatsApp para signatários com tipo de assinatura eletrônica ou com ação de receber cópia.

> #### &#x20;**assinarOnline**
>
> &#x20;Esta parte do JSON será enviada somente para os destinatários com **idTipoAcao = 1 (Assinar Online)**. Caso seja enviado para destinatário com o **idTipoAcao = 2 (Receber Cópia)**, estes dados devem ser ignorados.

> > **papelPessoaJuridica**
> >
> > **Descrição:** Parâmetro opcional para enviar os papeis do signatário em relação a assinatura de pessoa jurídica que ele irá realizar.
> >
> > **Formato:** Varchar(50)
> >
> > **Requerido:&#x20;**<mark style="color:blue;">**Não**</mark>
> >
> > <mark style="color:orange;">**Validação:**</mark>
> >
> > a- O parâmetro de **papelPessoaJuridica** é opcional, mas quando informado será validado.
> >
> > O sistema verifica **se a conta possui o papel do signatário informado**. Para isso ignora letras maiúsculas, minúsculas, espaços duplos, espaços antes do início do texto e espaço no final do texto.
> >
> > **Mensagem** – O(s) Papel(is) do(s) Signatário(s) informado(s) não existe(m) para a conta.
> >
> > Usuário poderá informar null ou não informar estes parâmetros no JSON.
> >
> > Se o **papelPessoaJuridica** for enviado para um signatário com o parâmetro “**assinarComo**” = 1 (Pessoa Física), então o sistema desconsidera a informação.

> > **seguranca**
> >
> > Esta parte do JSON não é obrigatória, será enviada somente se houver a necessidade de exigir do signatário, em questão, um código de segurança para iniciar o processo de assinatura.
> >
> > > **1. codigoSeguranca**&#x20;
> > >
> > > **Descrição:** Código de segurança a ser exigido ao signatário que irá assinar o documento.
> > >
> > > **Formato:** Char(4)
> > >
> > > **Requerido:&#x20;**<mark style="color:blue;">**Não**</mark>
> > >
> > > <mark style="color:orange;">**Validação:**</mark>&#x20;
> > >
> > > Esta informação precisa ser numérica com 4 caracteres.
> > >
> > >
> > >
> > > **2. idMeioEnvio**
> > >
> > > **Descrição:** Parâmetro para informar como o código de segurança será enviado ao signatário em questão.
> > >
> > > **Formato:** Tinyint: 1 = SMS (Somente Brasil), 2 = WhatsApp, 3 = Email ou 4 = Não enviar
> > >
> > > **Requerido:&#x20;**<mark style="color:red;">**Sim, quando enviado parâmetro em codigoSeguranca.**</mark>
> > >
> > > <mark style="color:orange;">**Validação:**</mark>&#x20;
> > >
> > > Este parâmetro somente será exigido caso seja enviado o parâmetro **codigoSeguranca** e somente é permitido valores iguais a 1, 2, 3 ou 4.
> > >
> > > O sistema desconsidera a informação desse parâmetro caso o **codigoSeguranca** = null.
> > >
> > > **Mensagem** – O parâmetro **idMeioEnvio** permite somente valores 1, 2, 3 ou 4.
> > >
> > > &#x20;
> > >
> > > **3. codigoSegurancaEmail**
> > >
> > > **Descrição:** Email onde o signatário receberá o código de segurança definido no parâmetro codigoSeguranca.
> > >
> > > **Formato:** Varchar(150)
> > >
> > > **Requerido:&#x20;**<mark style="color:red;">**Sim, caso o idMeioEnvio = 3**</mark>
> > >
> > > <mark style="color:orange;">**Validação:**</mark>
> > >
> > > a- O parâmetro **codigoSegurancaEmail** é obrigatório quando o parâmetro **idMeioEnvio** for igual a **3**.
> > >
> > > **Mensagem** - O parâmetro **codigoSegurancaEmail** é obrigatório quando o parâmetro **idMeioEnvio** for igual a **3**.
> > >
> > > b- O e-mail será exigido quando o parâmetro idMeioEnvio = 3. A aplicação validará se a informação enviada é um e-mail.
> > >
> > > **Mensagem** - E-mail inválido.
> > >
> > > Se este parâmetro seja enviado quando idMeioEnvio <> 3, o sistema ignora a informação.
> > >
> > > O sistema desconsidera a informação desse parâmetro caso o **codigoSeguranca** = null.
> > >
> > >
> > >
> > > **4. codigoSegurancaTelefone**
> > >
> > > **Descrição:** Telefone onde o signatário receberá o código de segurança definido no parâmetro codigoSeguranca.
> > >
> > > **Formato:** Varchar(20)
> > >
> > > **Requerido:&#x20;**<mark style="color:blue;">**Sim, caso o idMeioEnvio = 1 ou 2**</mark>
> > >
> > > <mark style="color:orange;">**Validação:**</mark>
> > >
> > > a- O parâmetro **codigoSegurancaTelefone** é obrigatório quando o parâmetro **idMeioEnvio** for igual a **1** ou **2**.
> > >
> > > **Mensagem** - O parâmetro **codigoSegurancaTelefone** é obrigatório quando o parâmetro **idMeioEnvio** for igual a **1** ou **2**.
> > >
> > > b- O telefone será exigido quando o parâmetro idMeioEnvio for igual a 1 ou 2.
> > >
> > > Quando idMeioEnvio = 1 (SMS), então deve ser aceito somente números do Brasil.
> > >
> > > Sistema valida o telefone informado:
> > >
> > > **Mensagem** - Telefone inválido.
> > >
> > > Se este parâmetro for enviado quando idMeioEnvio = 3 ou 4, a informação será ignorada.
> > >
> > > O sistema desconsidera a informação desse parâmetro caso o codigoSeguranca = null.
> > >
> > > &#x20;
> > >
> > > **5.** **reenviarCodigo**
> > >
> > > **Descrição:** Informação que define se o signatário poderá reenviar o código de segurança para o seu telefone via SMS ou WhatsApp conforme definição no parâmetro idMeioEnvio.
> > >
> > > Quando não informado o parâmetro **reenviarCodigo** no JSON, o sistema considera-o como false.
> > >
> > > **Formato:** Bit: 1 = True ou 0 = False
> > >
> > > **Requerido: Sim, caso o idMeioEnvio = 1 ou 2**
> > >
> > > <mark style="color:orange;">**Validação:**</mark>
> > >
> > > a- Este parâmetro somente é obrigatório quando o código de segurança for enviado por SMS ou WhatsApp.
> > >
> > > Caso este parâmetro seja enviado quando idMeioEnvio = 3 ou 4 o mesmo deve ser desconsiderado.

> > **mensagemPersonalizada**
> >
> > Esta parte do JSON não é obrigatória e será enviada somente se para o signatário em questão for necessário enviar uma mensagem personalizada. Se for enviado o título da mensagem será necessário enviar o texto e vice e versa.
> >
> > > **1. titulo**
> > >
> > > **Descrição:** Título da mensagem personalizada a ser enviada para o signatário em questão. Os signatários com mensagem personalizada deixam de receber a mensagemPadrao.
> > >
> > > **Formato:** Varchar(150)
> > >
> > > **Requerido:&#x20;**<mark style="color:blue;">**Não**</mark>
> > >
> > > <mark style="color:orange;">**Validação:**</mark>
> > >
> > > O parâmetro **titulo** não é obrigatório, mas quando enviada a “MensagemPersonalizada” a aplicação irá exigir o texto e vice e versa.
> > >
> > >
> > >
> > > **2. texto**
> > >
> > > **Descrição:** Título da mensagem personalizada a ser enviada para o signatário em questão. Os signatários com mensagem personalizada deixam de receber a mensagemPadrao.
> > >
> > > **Formato:** Varchar(Max)
> > >
> > > **Requerido:&#x20;**<mark style="color:blue;">**Não**</mark>
> > >
> > > <mark style="color:orange;">**Validação:**</mark>
> > >
> > > a- O parâmetro **mensagemPersonalizada** não é obrigatório, mas quando enviado o “titulo” a aplicação irá exigir o texto e vice e versa.

> > **anexos**
> >
> > &#x20;Esta parte do JSON não é obrigatória, e será enviada somente se para o signatário em questão for necessário solicitar o upload de algum arquivo. Se qualquer um dos parâmetros abaixo for informado, todos os demais serão exigidos.
> >
> > > **anexoDocumentoNome**
> > >
> > > **Descrição:** Nome do anexo que será solicitado ao signatário.
> > >
> > > **Formato:** Varchar(75)
> > >
> > > **Requerido:&#x20;**<mark style="color:blue;">**Não**</mark>
> > >
> > > <mark style="color:orange;">**Validação:**</mark>
> > >
> > > a- Caso este parâmetro seja enviado, será exigido os outros dois: anexoObrigatorio e anexoExibirTodosDestinatarios também sejam enviados
> > >
> > > **Mensagem** - Os parâmetros contidos em anexos não são obrigatórios, mas quando for enviado pelo menos um parâmetro nesta coleção, os demais se tornam necessários.
> > >
> > > b- O sistema não permite informar para mais de um anexo do destinatário o mesmo nome.
> > >
> > > **Mensagem** - Não é permitido configurar anexos com mesmo nome.
> > >
> > >
> > >
> > > **anexoObrigatorio**
> > >
> > > **Descrição**: Informação para a aplicação exigir do signatário o upload do arquivo no ato da assinatura dos documentos do processo.
> > >
> > > **Formato:** bit: 1 = true ou 0 = false
> > >
> > > **Requerido:** <mark style="color:blue;">**Não**</mark>
> > >
> > > <mark style="color:orange;">**Validação:**</mark>
> > >
> > > Caso este parâmetro seja enviado será exigido os outros dois: anexoDocumentoNome e anexoExibirTodosDestinatarios.
> > >
> > > **Mensagem** - Os parâmetros contidos em anexos não são obrigatórios, mas quando for enviado pelo menos um parâmetro nesta coleção, os demais se tornam necessários.
> > >
> > >
> > >
> > > **anexoExibirTodosDestinatarios**
> > >
> > > **Descrição:** Informação para a aplicação exibir o anexo que foi enviado pelo signatário para todos os outros destinatários com ação de assinar ou não. Se o anexo a ser enviado exige um grau de sigilo, então esta informação deve ser enviada como false.
> > >
> > > **Formato:** bit: 1 = true ou 0 = false
> > >
> > > **Requerido:&#x20;**<mark style="color:blue;">**Não**</mark>
> > >
> > > <mark style="color:orange;">**Validação**</mark><mark style="color:orange;">:</mark>
> > >
> > > a- Caso este parâmetro seja enviado será exigido os outros dois: anexoDocumentoNome e  anexoObrigatorio.
> > >
> > > **Mensagem** - Os parâmetros contidos em anexos não são obrigatórios, mas quando for enviado pelo menos um parâmetro nesta coleção, os demais se tornam necessários.

> > **definirPosicaoAssinaturaManual**&#x20;
> >
> > Esta parte do JSON somente é obrigatória caso o parâmetro **usarPosicaoAssinaturaAutomatica (tópico 10)** for igual a **false**.
> >
> > Quando o parâmetro **usarPosicaoAssinaturaAutomatica** é enviado igual a **false**, significa que no JSON deverá ser enviado o posicionamento manual das assinaturas de todos os destinatários com ação de Assinar Online **em cada arquivo do processo**. Ou seja, é obrigatório definir a posição da assinatura manualmente (**definirPosicaoAssinaturaManual**) para cada destinatário em cada arquivo (**documentoDeOrdem**) conforme o valor definido no parâmetro **assinarComo** (1 = Pessoa Física ou 2 = Pessoa Jurídica ou 3 = Pessoa Física e Jurídica)
> >
> > Quando o parâmetro **usarPosicaoAssinaturaAutomatica** é enviado como **true**, as informações de posicionamento manual da assinatura de todos os signatários **serão desconsideradas. Desta forma** será incluída uma página no final de cada documento com a posição da assinatura de cada destinatário com ação de Assinar Online. <mark style="color:blue;">(Conforme descrito no tópico 10).</mark>
> >
> > <mark style="color:orange;">**Validação:**</mark>
> >
> > a- O sistema valida se o posicionamento manual das assinaturas está no limite da página informada.
> >
> > **Mensagem** - Posicionamento **definirPosicaoAssinaturaManual** fora dos limites da página.
> >
> > b- O sistema valida as representações manuais informadas para os destinatários não permitindo a mesma representação manual por tipo de assinatura no mesmo documento (parâmetro **documentoDeOrdem**).
> >
> > Ex.: Informando representação manual de pessoa física mais de uma vez no mesmo documento (parâmetro **documentoDeOrdem**).
> >
> > **Mensagem** - Somente é permitido uma representação por tipo de assinatura.
> >
> > > **documentoDeOrdem**
> > >
> > > &#x20;**Descrição:** Quando o processo de assinatura que está sendo enviado no JSON possuir mais de um arquivo para assinatura, este campo será usado para identificar o arquivo ao qual o posicionamento da assinatura que está sendo descrita nos parâmetros a seguir se referem.
> > >
> > > Se o processo de assinatura possuir somente um arquivo a ser assinado, este campo se torna desnecessário e pode ser desconsiderado quando enviado.
> > >
> > > **Formato:** Tinyint
> > >
> > > **Requerido:&#x20;**<mark style="color:red;">**Sim, quando no processo for enviado mais de um arquivo para assinatura.**</mark>
> > >
> > > &#x20;<mark style="color:orange;">**Validação:**</mark>
> > >
> > > a- Este campo é obrigatório sempre que no processo existir mais de um arquivo a ser assinado. Abaixo a lista de possíveis erros com este parâmetro que precisam ser sinalizados ao usuário:
> > >
> > > **Mensagem** – O parâmetro documentoDeOrdem é obrigatório quando no processo possuir mais de um arquivo para assinatura.
> > >
> > > &#x20;b- O sistema valida se existe o documento da ordem informada no parâmetro “**documentoDeOrdem**”
> > >
> > > **Mensagem** - Não existe o documento na ordem {0} informada no parâmetro “documentoDeOrdem”.
> > >
> > >
> > >
> > > **pessoaFisica**
> > >
> > > Esta parte do JSON somente é obrigatória caso os parâmetros **usarPosicaoAssinaturaAutomatica = false e assinarComo = 1 (PF) ou 3 (PF e PJ).**
> > >
> > > Obs.: Quando o parâmetro **assinarComo = 2 (PJ)**, estes dados devem ser desconsiderados.
> > >
> > > Validação:
> > >
> > > a- Quando este dado for obrigatório e não for enviado, retorna a mensagem:
> > >
> > > **Mensagem** - É necessário enviar os parâmetros pessoaFisica em definirPosicaoAssinaturaManual para os signatários com o parâmetro assinarComo = 1 ou 3 em todos os arquivos do processo.
> > >
> > > Os parâmetros abaixo irão indicar o posicionamento da assinatura de pessoa física para o signatário em questão, para o arquivo identificado em **documentoDeOrdem**.
> > >
> > > > **pagina**
> > > >
> > > > **Descrição:** Esta informação é a página do arquivo onde a posição da assinatura será inserida.
> > > >
> > > > **Formato:** Int
> > > >
> > > > **Requerido:&#x20;**<mark style="color:red;">**Sim, quando usarPosicaoAssinaturaAutomatica = false e assinarComo = 1 (PF) ou 3 (PF e PJ).**</mark>
> > > >
> > > > <mark style="color:orange;">**Validação:**</mark>
> > > >
> > > > a- Esta informação não pode ser zero nem nula.
> > > >
> > > > b- A aplicação valida se a página informada existe no arquivo em questão.
> > > >
> > > > **Mensagem** - A página "X” não existe no arquivo.
> > > >
> > > > **Mensagem** - As páginas "X. Y ...” não existem no arquivo.
> > > >
> > > >
> > > >
> > > > **altura**
> > > >
> > > > **Descrição:** Altura em milímetros do tamanho da caixa onde a assinatura será aplicada.
> > > >
> > > > **Formato:** Decimal
> > > >
> > > > **Requerido:&#x20;**<mark style="color:red;">**Sim, quando usarPosicaoAssinaturaAutomatica = false e assinarComo = 1 (PF) ou 3 (PF e PJ).**</mark>
> > > >
> > > > <mark style="color:orange;">**Validação:**</mark>
> > > >
> > > > a- Esta informação não pode nula.
> > > >
> > > >
> > > >
> > > > **largura**
> > > >
> > > > **Descrição:** Largura em milímetros do tamanho da caixa onde a assinatura será aplicada.
> > > >
> > > > **Formato:** Decimal
> > > >
> > > > **Requerido:** <mark style="color:red;">**Sim, quando usarPosicaoAssinaturaAutomatica = false e assinarComo = 1 (PF) ou 3 (PF e PJ).**</mark>
> > > >
> > > > <mark style="color:orange;">**Validação:**</mark>
> > > >
> > > > a- Esta informação não pode nula.
> > > >
> > > >
> > > >
> > > > **posicaoX**
> > > >
> > > > **Descrição:** Posição em milímetros da borda esquerda da página até a borda esquerda da caixa de assinatura.
> > > >
> > > > **Formato:** Decimal
> > > >
> > > > **Requerido:** <mark style="color:red;">**Sim, quando usarPosicaoAssinaturaAutomatica = false e assinarComo = 1 (PF) ou 3 (PF e PJ).**</mark>
> > > >
> > > > <mark style="color:orange;">**Validação:**</mark>
> > > >
> > > > a- Esta informação não pode ser nula.
> > > >
> > > >
> > > >
> > > > **posicaoY**
> > > >
> > > > **Descrição:** Posição em milímetros da borda superior da página até a borda superior da caixa de assinatura.
> > > >
> > > > **Formato:** Decimal
> > > >
> > > > **Requerido:** <mark style="color:red;">**Sim, quando usarPosicaoAssinaturaAutomatica = false e assinarComo = 1 (PF) ou 3 (PF e PJ).**</mark>
> > > >
> > > > <mark style="color:orange;">**Validação:**</mark>
> > > >
> > > > a- Esta informação não pode nula.
> > >
> > >
> > >
> > > **pessoaJuridica**
> > >
> > > Esta parte do JSON é obrigatória caso os parâmetros **usarPosicaoAssinaturaAutomatica = false e assinarComo = 2 (PJ) ou 3 (PF e PJ).**
> > >
> > > Obs.: Quando o parâmetro **assinarComo = 1 (PF)**, estes dados serão desconsiderados.
> > >
> > > <mark style="color:orange;">**Validação:**</mark>
> > >
> > > a- Quando este dado for obrigatório e não for enviado, retorna a mensagem:
> > >
> > > **Mensagem** - É necessário enviar os parâmetros pessoaJuridica em definirPosicaoAssinaturaManual para signatários com o parâmetro assinarComo = 2 ou 3 em todos os arquivos do processo.
> > >
> > > Os parâmetros abaixo indicam o posicionamento da assinatura de pessoa jurídica para o signatário em questão, para o arquivo identificado em **documentoDeOrdem**.
> > >
> > > > **pagina**
> > > >
> > > > **Descrição:** Esta informação é a página do arquivo onde a posição da assinatura será inserida.
> > > >
> > > > **Formato:** Int
> > > >
> > > > **Requerido:&#x20;**<mark style="color:red;">**Sim, quando usarPosicaoAssinaturaAutomatica = false e assinarComo = 2 (PJ) ou 3 (PF e PJ).**</mark>
> > > >
> > > > <mark style="color:orange;">**Validação:**</mark>
> > > >
> > > > a- Esta informação não pode ser zero nem nula.
> > > >
> > > > c- A aplicação valida se a página informada existe no arquivo em questão.
> > > >
> > > > **Mensagem** - A página "X” não existe no arquivo.
> > > >
> > > > **Mensagem** - As páginas "X. Y ...” não existem no arquivo.
> > > >
> > > > &#x20;
> > > >
> > > > **altura**
> > > >
> > > > **Descrição**: Altura em milímetros do tamanho da caixa onde a assinatura será aplicada.
> > > >
> > > > **Formato**: Decimal
> > > >
> > > > **Requerido:&#x20;**<mark style="color:red;">**Sim, quando usarPosicaoAssinaturaAutomatica = false e assinarComo = 2 (PJ) ou 3 (PF e PJ).**</mark>
> > > >
> > > > <mark style="color:orange;">**Validação:**</mark>
> > > >
> > > > a- Esta informação não pode ser zero nem nula.
> > > >
> > > > &#x20;
> > > >
> > > > **largura**
> > > >
> > > > Descrição: Largura em milímetros do tamanho da caixa onde a assinatura será aplicada.
> > > >
> > > > Formato: Decimal
> > > >
> > > > Requerido: <mark style="color:red;">**Sim, quando usarPosicaoAssinaturaAutomatica = false e assinarComo = 2 (PJ) ou 3 (PF e PJ).**</mark>
> > > >
> > > > <mark style="color:orange;">**Validação:**</mark>
> > > >
> > > > a- Esta informação não pode ser zero nem nula.
> > > >
> > > >
> > > >
> > > > **posicaoX**
> > > >
> > > > **Descrição:** Posição em milímetros da borda esquerda da página até a borda esquerda da caixa de assinatura.
> > > >
> > > > **Formato:** Decimal
> > > >
> > > > **Requerido:** <mark style="color:red;">**Sim, quando usarPosicaoAssinaturaAutomatica = false e assinarComo = 2 (PJ) ou 3 (PF e PJ).**</mark>
> > > >
> > > > <mark style="color:orange;">**Validação:**</mark>
> > > >
> > > > a- Esta informação não pode ser zero nem nula.
> > > >
> > > > &#x20;
> > > >
> > > > **posicaoY**
> > > >
> > > > **Descrição:** Posição em milímetros da borda superior da página até a borda superior da caixa de assinatura.
> > > >
> > > > **Formato:** Decimal
> > > >
> > > > **Requerido:&#x20;**<mark style="color:red;">**Sim, quando usarPosicaoAssinaturaAutomatica = false e assinarComo = 2 (PJ) ou 3 (PF e PJ).**</mark>
> > > >
> > > > <mark style="color:orange;">**Validação:**</mark>
> > > >
> > > > a- Esta informação não pode ser zero nem nula.

> > **idTipoAssinatura**
> >
> > **Descrição:** Definição do tipo de assinatura exigida ao signatário.
> >
> > Os tipos de assinaturas podem ser **1 = Assinatura Eletrônica, 3 = Certificado Digital ICP Brasil ou 4 = Certificado Digital Outros.**
> >
> > **Formato:** Tinyint
> >
> > **Requerido:&#x20;**<mark style="color:red;">**Sim, para signatários com idTipoAcao = 1 (Assinar Online)**</mark>
> >
> > <mark style="color:orange;">**Validação:**</mark>
> >
> > a- Esta informação é obrigatória para todos os signatários com parâmetro idTipoAcao = 1 (Assinar Online).
> >
> > b- A aplicação permite somente os valores 1,3 ou 4.
> >
> > **Mensagem** – O parâmetro **idTipoAssinatura** permite somente valores 1, 3 ou 4.

> > **assinaturaEletronica**
> >
> > Esta parte do JSON somente é obrigatória para os signatários cujo idTipoAssinatura = 1 (Assinatura Eletrônica).
> >
> > > **obrigarSignatarioInformarNome**
> > >
> > > **Descrição:** Informação para a aplicação obrigar o signatário em questão informar seu nome.
> > >
> > > **Formato:** Bit: 1 = True ou 0 = False
> > >
> > > **Requerido:&#x20;**<mark style="color:red;">**Sim, quando idTipoAssinatura = 1**</mark>
> > >
> > > <mark style="color:orange;">**Validação:**</mark>
> > >
> > > a- Esta informação é obrigatória para todos os signatários com cujo idTipoAssinatura = 1 (Assinatura Eletrônica).
> > >
> > > &#x20;&#x20;
> > >
> > > **obrigarSignatarioInformarNumeroDocumento**
> > >
> > > Descrição: Informação para a aplicação obrigar o signatário em questão informar o número de seu documento.
> > >
> > > **Formato:** Bit: 1 = True ou 0 = False
> > >
> > > **Requerido:&#x20;**<mark style="color:red;">**Sim, quando idTipoAssinatura = 1**</mark>
> > >
> > > <mark style="color:orange;">**Validação:**</mark>
> > >
> > > a- Esta informação é obrigatória para todos os signatários com cujo idTipoAssinatura = 1 (Assinatura Eletrônica).
> > >
> > > &#x20;
> > >
> > > **tipoDocumentoAInformar**
> > >
> > > **Descrição:** Tipo de documento que o signatário deve informar. As opções são: 1 = CPF, 2 = CNH, 3 = RH ou 4 = Outro.
> > >
> > > **Formato:** Tinyint.
> > >
> > > **Requerido:&#x20;**<mark style="color:red;">**Sim, quando idTipoAssinatura = 1**</mark>
> > >
> > > <mark style="color:orange;">**Validação:**</mark>
> > >
> > > a- Esta informação é obrigatória para todos os signatários com cujo idTipoAssinatura = 1 (Assinatura Eletrônica).
> > >
> > > b- Quando informado, o sistema valida o parâmetro **tipoDocumentoAInformar** permitindo somente os valores:  1 = CPF, 2 = CNH, 3 = RH ou 4 = Outro.
> > >
> > > **Mensagem** – O parâmetro **tipoDocumentoAInformar** permite somente valores 1, 2, 3 ou 4.
> > >
> > > c- Quando o usuário informar no campo " **tipoDocumentoAInformar**" o valor 1, 2 ou 3, então o sistema envia o nome correspondente ao número no campo **ProcessoDestinatario**.**InfComplDocumentoNomePF**
> > >
> > > 1 = CPF; 2 = CNH; 3 = RG.
> > >
> > > d- Quando o usuário informar no campo " **tipoDocumentoAInformar**" o valor 4, então o sistema deve enviar o nome enviado como **nomeDocumento (tópico 9.7.9.4.1)** em **configuracaoesDocumento** Outro para o campo **ProcessoDestinatario**.**InfComplDocumentoNomePF**.
> > >
> > > &#x20;
> > >
> > > **configuracaoDocumentoOutro**
> > >
> > > Esta parte do JSON somente deve ser enviada quando o **tipoDocumentoAInformar** for igual a 4 = Outro. Nesta parte é possível definir os parâmetros do documento que será solicitado ao signatário a informação, no ato da assinatura.
> > >
> > > **Mensagem** - O parâmetro configuracaoDocumentoOutro é obrigatório quando tipoDocumentoAInformar for igual a 4.
> > >
> > > Quando o **tipoDocumentoAInformar** for diferente de 4 = Outro, os dados dessa parte do JSON serão desconsiderados, se houver.
> > >
> > > > **nomeDocumento**
> > > >
> > > > **Descrição:** Nome do documento que será exibido ao signatário.
> > > >
> > > > **Formato:** Varchar(50).
> > > >
> > > > **Requerido:&#x20;**<mark style="color:red;">**Sim, quando tipoDocumentoAInformar = 4**</mark>
> > > >
> > > > <mark style="color:orange;">**Validação:**</mark>
> > > >
> > > > a- Esta informação é obrigatória para todos os signatários cujo tipoDocumentoAInformar = 4 (Outro).
> > > >
> > > > &#x20;
> > > >
> > > > <mark style="color:orange;">**formatoDadosDocumento**</mark>
> > > >
> > > > **Descrição:** Formato de dados que será exigido no campo de documento. As opções são: 1 = Texto ou 2 = Numérico
> > > >
> > > > **Formato:** Tinyint.
> > > >
> > > > **Requerido:&#x20;**<mark style="color:red;">**Sim, quando tipoDocumentoAInformar = 4**</mark>
> > > >
> > > > <mark style="color:orange;">**Validação:**</mark>
> > > >
> > > > a- Esta informação é obrigatória para todos os signatários cujo tipoDocumentoAInformar = 4 (Outro).
> > > >
> > > > &#x20;
> > > >
> > > > **qtdeCaracteresDocumento**
> > > >
> > > > **Descrição:** Quantidade de caracteres que serão exigidos no campo documento.
> > > >
> > > > **Formato:** Tinyint.
> > > >
> > > > **Requerido:** <mark style="color:red;">**Sim, quando tipoDocumentoAInformar = 4**</mark>
> > > >
> > > > <mark style="color:orange;">**Validação:**</mark>
> > > >
> > > > a- Esta informação é obrigatória para todos os signatários cujo tipoDocumentoAInformar = 4 (Outro).
> > >
> > >
> > >
> > > **obrigarSignatarioInformarNomeEmpresa**
> > >
> > > **Descrição:** Informação para a aplicação obrigar o signatário em questão informar o nome da empresa (pessoa jurídica)
> > >
> > > **Formato:** Bit: 1 = true ou 0 = false.
> > >
> > > **Requerido:&#x20;**<mark style="color:red;">**Sim, quando idTipoAssinatura = 1 e assinarComo = 2 ou 3**</mark>
> > >
> > > <mark style="color:orange;">**Validação:**</mark>
> > >
> > > a- Esta informação é obrigatória para os signatários quando parâmetros idTipoAssinatura  = 1 (Assinatura Eletrônica) e assinarComo seja igual a 2 = Pessoa Jurídica ou 3 = Pessoa Física e Jurídica.
> > >
> > >
> > >
> > > **obrigarSignatarioInformarNumeroDocumentoEmpresa**
> > >
> > > **Descrição:** Informação para a aplicação obrigar o signatário em questão informar o documento da empresa (pessoa jurídica)
> > >
> > > **Formato:** Bit: 1 = true ou 0 = false.
> > >
> > > **Requerido:&#x20;**<mark style="color:red;">**Sim, quando idTipoAssinatura = 1 e assinarComo = 2 ou**</mark>**&#x20;**<mark style="color:orange;">**3**</mark>
> > >
> > > <mark style="color:orange;">**Validação:**</mark>
> > >
> > > a- Esta informação é obrigatória para os signatários quando parâmetros idTipoAssinatura  = 1 (Assinatura Eletrônica) e assinarComo seja igual a 2 = Pessoa Jurídica ou 3 = Pessoa Física e Jurídica.
> > >
> > > &#x20;
> > >
> > > **tipoDocumentoEmpresaAInformar**
> > >
> > > **Descrição:** Tipo de documento que o signatário deverá informar para a empresa. As opções são: 4 = Outro ou 5 = CNPJ.
> > >
> > > **Formato:** Tinyint
> > >
> > > **Requerido:** <mark style="color:red;">**Sim, quando idTipoAssinatura = 1 e assinarComo = 2 ou 3**</mark>
> > >
> > > <mark style="color:orange;">**Validação:**</mark>
> > >
> > > a- Esta informação é obrigatória para os signatários quando parâmetros idTipoAssinatura  = 1 (Assinatura Eletrônica) e assinarComo seja igual a 2 = Pessoa Jurídica ou 3 = Pessoa Física e Jurídica.
> > >
> > > b- Quando informado, o sistema valida o parâmetro **tipoDocumentoEmpresaAInformar** permitindo somente os valores:  4 = Outro ou 5 = CNPJ.
> > >
> > > **Mensagem** - O parâmetro **tipoDocumentoEmpresaAInformar** permite somente valores 4 ou 5.
> > >
> > > c- Quando o usuário informar no campo " **tipoDocumentoAInformar**" o valor 5, então o sistema deve enviar o nome correspondente ao número no campo **ProcessoDestinatario**.**InfComplDocumentoNomePJ**
> > >
> > > &#x20;            5 = CNPJ
> > >
> > > d- Quando o usuário informar no campo " **tipoDocumentoAInformar**" o valor 4, então o sistema deve enviar o nome enviado como **nomeDocumento (tópico 9.7.9.8.1) em configuracaoesDocumentoEmpresaOutro** para o campo **ProcessoDestinatario.InfComplDocumentoNomePJ**.
> > >
> > >
> > >
> > > **configuracaoDocumentoEmpresaOutro**
> > >
> > > Esta parte do JSON somente deve ser enviada quando o **tipoDocumentoEmpresaAInformar for igual a 4 = Outro**.
> > >
> > > Nesta parte é possível definir os parâmetros do documento que será solicitado ao signatário a informação, no ato da assinatura.
> > >
> > > **Mensagem** - O parâmetro configuracaoDocumentoEmpresaOutro é obrigatório quando tipoDocumentoEmpresaAInformar for igual a 4.
> > >
> > > Quando o **tipoDocumentoEmpresaAInformar** for diferente de 4 = Outro, os dados dessa parte do JSON serão desconsiderados, se houver.
> > >
> > > > **nomeDocumento**
> > > >
> > > > **Descrição:** Nome do documento que será exibido ao signatário como documento da empresa.
> > > >
> > > > **Formato:** Varchar(50).
> > > >
> > > > **Requerido:&#x20;**<mark style="color:red;">**Sim, quando tipoDocumentoEmpresaAInformar = 4**</mark>
> > > >
> > > > <mark style="color:orange;">**Validação:**</mark>
> > > >
> > > > a- Esta informação é obrigatória para todos os signatários cujo tipoDocumentoEmpresaAInformar = 4 (Outro).
> > > >
> > > > &#x20;
> > > >
> > > > **formatoDadosDocumento**
> > > >
> > > > **Descrição:** Formato de dados que será exigido no campo de documento da empresa. As opções são: 1 = Texto ou 2 = Numérico
> > > >
> > > > **Formato:** Tinyint.
> > > >
> > > > **Requerido:** <mark style="color:red;">**Sim, quando tipoDocumentoEmpresaAInformar = 4**</mark>
> > > >
> > > > <mark style="color:orange;">**Validação:**</mark>
> > > >
> > > > b- Esta informação é obrigatória para todos os signatários cujo tipoDocumentoEmpresaAInformar = 4 (Outro).
> > > >
> > > > &#x20;
> > > >
> > > > **qtdeCaracteresDocumento**
> > > >
> > > > **Descrição:** Quantidade de caracteres que serão exigidos no campo documento.
> > > >
> > > > **Formato:** Tinyint.
> > > >
> > > > **Requerido:&#x20;**<mark style="color:red;">**Sim, quando tipoDocumentoEmpresaAInformar = 4**</mark>
> > > >
> > > > <mark style="color:orange;">**Validação:**</mark>
> > > >
> > > > c- Esta informação é obrigatória para todos os signatários cujo tipoDocumentoEmpresaAInformar = 4 (Outro).
> > >
> > >
> > >
> > > **dadosAssinatura**
> > >
> > > Esta parte do JSON é opcional e permite enviar dados de assinatura para os destinatários com **idTipoAssinatura igual a 1 = eletrônica** que serão utilizados para preenchimento de campos ou validação dos dados do documento no momento que o destinatário assinar os documentos do processo como pessoa física e/ou jurídica.
> > >
> > > &#x20;Para destinatários com **idTipoAssinatura igual a 3 = Certificado Digital ICP Brasil** ou **4 = Certificado Digital Outros** esses dados serão desconsiderados.
> > >
> > > &#x20;O **nome do signatário e nome da empresa** sempre serão utilizados para **preenchimento automático** no momento da assinatura como pessoa física e/ou jurídica.
> > >
> > > &#x20;O número do **documento do signatário** e número do **documento da empresa** poderão ser utilizados para **preenchimento automático** ou **validação**, conforme o parâmetro **validarDocumento**.
> > >
> > > > **signatario**
> > > >
> > > > Parâmetros opcionais para informar nome e documento do signatário que servirão para preenchimento de campos na tela ou validação do documento do signatário.
> > > >
> > > > > **nome**
> > > > >
> > > > > **Descrição:** Parâmetro opcional informando o nome do signatário que será preenchido na tela de assinar documento como pessoa física.
> > > > >
> > > > > **Formato:** Varchar(250)
> > > > >
> > > > > **Requerido:&#x20;**<mark style="color:blue;">**Não**</mark>
> > > > >
> > > > > <mark style="color:orange;">**Validação:**</mark>
> > > > >
> > > > > a- O sistema valida a quantidade de caracteres.
> > > > >
> > > > > **Mensagem** - São permitidos até 250 caracteres no parâmetro nome.
> > > > >
> > > > > &#x20;
> > > > >
> > > > > **numeroDocumento**
> > > > >
> > > > > **Descrição:** Parâmetro opcional informando o documento do signatário que será preenchido ou validado no processo de assinar documento como pessoa física.
> > > > >
> > > > > **Formato:** String
> > > > >
> > > > > **Requerido:** <mark style="color:blue;">**Não**</mark>
> > > > >
> > > > > <mark style="color:orange;">**Validação:**</mark>
> > > > >
> > > > > a- O sistema valida o valor informado conforme o tipo definido no parâmetro **tipoDocumentoAInformar**.&#x20;
> > > > >
> > > > > CPF, CNH e Outros (Quantidade caracteres e formato)
> > > > >
> > > > > **Mensagem** - O valor informado no parâmetro **numeroDocumento** é inválido para o tipo definido no parâmetro **tipoDocumentoAInformar**.
> > > > >
> > > > > **Quando este parâmetro for informado** e o parâmetro **validarDocumento não for enviado** ou for enviado com **null** ou **com valor 0**, significa que os dados serão utilizados somente para **preenchimento automático** no momento da assinatura como pessoa física.
> > > > >
> > > > > **Quando este parâmetro for informado** e o parâmetro **validarDocumento** for enviado **com valor 1**, significa que os dados serão utilizados somente para **validação** no momento da assinatura como pessoa física.
> > > > >
> > > > > &#x20;
> > > > >
> > > > > **validarDocumento**
> > > > >
> > > > > **Descrição:** Parâmetro opcional informando se o número do documento do destinatário informado no parâmetro **numeroDocumento** do objeto **signatario** será utilizado para validação ou não.
> > > > >
> > > > > **Formato:** Bit: 1 – True ou 0 - False
> > > > >
> > > > > **Requerido:&#x20;**<mark style="color:blue;">**Não**</mark>
> > > > >
> > > > > **Os dados informados neste parâmetro serão desconsiderados quando o** parâmetro **numeroDocumento** objeto **signatario** for nulo ou não for enviado.
> > > > >
> > > > > **Quando este parâmetro não for enviado** ou for enviado com **null** ou **com valor 0**, significa que os dados informados no parâmetro **numeroDocumento** serão utilizados somente para **preenchimento automático** no momento da assinatura como pessoa física.
> > > >
> > > > **empresa**
> > > >
> > > > Parâmetros opcionais para informar nome e documento da empresa que servirão para preenchimento de campos na tela ou validação do documento da empresa.
> > > >
> > > > Atenção: Os dados de empresa serão desconsiderados quando o signatário estiver configurado para assinar somente como pessoa física.]
> > > >
> > > > <mark style="background-color:red;">**Atenção:**</mark> <mark style="background-color:red;"></mark><mark style="background-color:red;">Os dados de empresa serão desconsiderados quando o signatário estiver configurado para assinar somente como pessoa física.</mark>
> > > >
> > > > > **nome**
> > > > >
> > > > > **Descrição**: Parâmetro opcional informando o nome da empresa que será preenchido na tela de assinar documento como pessoa jurídica.
> > > > >
> > > > > Formato: Varchar (250)
> > > > >
> > > > > **Requerido:&#x20;**<mark style="color:blue;">**Não**</mark>
> > > > >
> > > > > <mark style="color:orange;">**Validação:**</mark>
> > > > >
> > > > > a- O sistema valida a quantidade de caracteres.
> > > > >
> > > > > **Mensagem** - São permitidos até 250 caracteres no parâmetro nome.
> > > > >
> > > > > &#x20;
> > > > >
> > > > > **numeroDocumento**
> > > > >
> > > > > **Descrição:** Parâmetro opcional informando o documento da empresa que será preenchido ou validado no processo de assinar documento como pessoa jurídica.
> > > > >
> > > > > **Formato:** String
> > > > >
> > > > > **Requerido:** <mark style="color:blue;">**Não**</mark>
> > > > >
> > > > > <mark style="color:orange;">**Validação:**</mark>
> > > > >
> > > > > a- O sistema deve validar o valor informado conforme o tipo definido no parâmetro **tipoDocumentoEmpresaAInformar**. &#x20;
> > > > >
> > > > > CNPJ e Outros (Quantidade caracteres e formato)
> > > > >
> > > > > **Mensagem** - O valor informado no parâmetro **numeroDocumento** é inválido para o tipo definido no parâmetro **tipoDocumentoEmpresaAInformar**.
> > > > >
> > > > > **Quando este parâmetro for informado** e o parâmetro **validarDocumento não for enviado** ou for enviado com **null** ou com **valor 0**, significa que os dados serão utilizados somente para **preenchimento automático** no momento da assinatura como pessoa jurídica.
> > > > >
> > > > > **Quando este parâmetro for informado** e o parâmetro **validarDocumento** for enviado **com valor 1**, significa que os dados serão utilizados somente para **validação** no momento da assinatura como pessoa jurídica.
> > > > >
> > > > > &#x20;
> > > > >
> > > > > **validarDocumento**
> > > > >
> > > > > **Descrição:** Parâmetro opcional informando se o número do documento da empresa informado no parâmetro **numeroDocumento** do objeto **empresa** será utilizado para validação ou não.
> > > > >
> > > > > **Formato:** Bit: 1 – True ou 0 - False
> > > > >
> > > > > **Requerido:&#x20;**<mark style="color:blue;">**Não**</mark>
> > > > >
> > > > > **Os dados informados neste parâmetro serão desconsiderados quando o** parâmetro **numeroDocumento** objeto **empresa** for nulo
> > > > >
> > > > > **Quando este parâmetro não for enviado** ou for enviado com **null** ou **com valor 0**, significa que os dados informados no parâmetro **numeroDocumento** serão utilizados somente para **preenchimento automático** no momento da assinatura como pessoa jurídica.
> > > > >
> > > > > &#x20;                                      Exemplo de JSON para os dados de validação
> > > > >
> > > > > ```json
> > > > > {
> > > > >     "documentoSignatario": "string",
> > > > >     "documentoEmpresa": "string"
> > > > > }
> > > > > ```
> > > >
> > > > **dadosComplementares**
> > > >
> > > > &#x20;Parâmetros opcionais para informar o label e o valor de dados complementares para assinatura.
> > > >
> > > > Quando for informado o **idProcessoDestinatario** de um destinatário com **configuração de tipo assinatura certificado digital**, o sistema desconsidera estes dados.
> > > >
> > > > > **label**
> > > > >
> > > > > **Descrição:** Parâmetro para informar a label do dado complementar para assinatura dos documentos.
> > > > >
> > > > > **Formato:** String
> > > > >
> > > > > **Requerido:&#x20;**<mark style="color:red;">**Sim, quando informado o parâmetro “valor” (9.3.2)**</mark>
> > > > >
> > > > > <mark style="color:orange;">**Validação:**</mark>
> > > > >
> > > > > a- Quando for informado o **idProcessoDestinatario** de um destinatário com **configuração de tipo assinatura eletrônica** e o usuário informar o parâmetro **valor**, é obrigatório informar o parâmetro **label**.
> > > > >
> > > > > **Mensagem** - O parâmetro **label** é obrigatório quando informar o parâmetro **valor**.
> > > > >
> > > > > &#x20;
> > > > >
> > > > > **valor**
> > > > >
> > > > > **Descrição:** Parâmetro para informar o valor para o campo da label do dado complementar para assinatura dos documentos.
> > > > >
> > > > > **Formato:** String
> > > > >
> > > > > **Requerido: Sim, quando informado o parâmetro “label” (9.3.1)**
> > > > >
> > > > > <mark style="color:orange;">**Validação:**</mark>
> > > > >
> > > > > a- Quando for informado o **idProcessoDestinatario** de um destinatário **com configuração de tipo assinatura eletrônica** e o usuário informar o parâmetro **label**, é obrigatório informar o parâmetro **valor**.
> > > > >
> > > > > **Mensagem** - O parâmetro **valor** é obrigatório quando informar o parâmetro label.
> > > > >
> > > > > Exemplo de JSON para os dados complementares
> > > > >
> > > > > ```json
> > > > > [
> > > > >     {
> > > > >         "label": "string",
> > > > >         "valor": "string"
> > > > >     }
> > > > > ]
> > > > > ```

**documentos**

a- Esta parte do JSON é obrigatória, sendo necessário enviar pelo menos um arquivo.

É possível enviar até <mark style="color:red;">**25**</mark> arquivos.\
**Mensagem** - É permitido enviar até 25 arquivos por processo, cujo tamanho não ultrapasse a soma de 100MB.

b- A soma do tamanho destes arquivos não pode ultrapassar a <mark style="color:red;">**100MB**</mark>.\
**Mensagem** - Não é permitido um arquivo ou uma coleção de arquivos que ultrapasse a soma de 100MB.

c- Somente é permitido arquivo do tipo PDF.\
**Mensagem** - O arquivo \[Nome do arquivo] é inválido. Somente é permitido arquivo do tipo PDF.

> **ordemDocumento**
>
> **Descrição:** Quando enviar mais de um arquivo no processo, é necessário definir a ordem com que estes arquivos serão listados na tela para o signatário assinar. Esta ordem também será usada para relacionar o posicionamento da assinatura do signatário no arquivo em questão. Ver parâmetro **documentoDeOrdem (Tópico 9.7.7.1)**.
>
> **Formato:** Tinyint.
>
> **Requerido:&#x20;**<mark style="color:red;">**Sim, quando estiver sendo enviado mais de um arquivo no processo.**</mark>
>
> <mark style="color:orange;">**Validação:**</mark>
>
> a- Esta informação é obrigatória quando no processo estiver sendo enviado mais de um arquivo.
>
> **Mensagem** - Para processo com mais de um arquivo o parâmetro **ordemDocumento** é obrigatório em cada documento.
>
> b- **Não é permitido arquivos com mesma ordem.**
>
> **Mensagem** - Não é permitido arquivos com a mesma ordem.
>
> **Listar os nomes dos arquivos que estão na mesma ordem**.
>
> c- Quando enviar mais de um arquivo, eles serão considerados como uma coleção de arquivos para o processo em questão, **não serão mergeados**, ou seja, agrupados em um único arquivo.
>
> Não é possível agrupar arquivos pelo serviço de envio de processo de documentos para assinar.
>
>
>
> **nomeComExtensao**
>
> **Descrição:** Nome do arquivo com sua extensão.
>
> **Formato:** Varchar(150)
>
> **Requerido:&#x20;**<mark style="color:red;">**Sim**</mark>
>
> <mark style="color:orange;">**Validação:**</mark>
>
> a- É necessário enviar o nome do arquivo com sua extensão. O tamanho do nome do arquivo não pode ultrapassar a <mark style="color:red;">**150**</mark> caracteres.
>
> Mensagem - O tamanho do nome do arquivo não pode ultrapassar a 150 caracteres.
>
> b- A aplicação _não permite_ arquivos com nomes iguais em um mesmo processo.
>
> Mensagem - Não é permitido arquivos com mesmo nome.
>
> &#x20;
>
> **arquivo**
>
> **Descrição:** Arquivo PDF no formato base64
>
> **Formato:** String base64
>
> **Requerido:&#x20;**<mark style="color:red;">**Sim**</mark>
>
> <mark style="color:orange;">**Validação:**</mark>
>
> a- É obrigatório enviar pelo menos um arquivo. Ele precisa ser enviado no formato PDF.
>
> **Mensagem** - É obrigatório enviar ao menos um arquivo do tipo PDF.

### Validações Gerais

#### Autenticação

1. Para autenticar na API da ArqSign, o usuário deve informar a AppKey da conta que está enviando os documentos para assinaturas.
2. O sistema valida se a AppKey existe e é válida
3. Somente conta com status Ativo pode enviar documento via integração ArqSign. A conta é identificada através da AppKey.
4. O sistema valida se o plano da assinatura vigente da conta possui a **permissão de Integração ArqSign**.
5.  O sistema valida se a conta possui créditos de Envios, SMS e WhatsApp. Caso a conta não possua crédito, retornar a mensagem:

    **Mensagem** - Saldo de créditos de Envios ou WhatsApp ou SMS insuficiente
6. Caso o processo tenha ordem de assinatura, o sistema inicialmente envia o documento os destinatários de ordem 1 e a medida que o documento é assinado acontece o envio para os destinatários de ordem seguinte.
7. As notificações serão enviadas conforme o idioma do usuário remetente.

### Retorno Validações

### Erro: 400 - Bad Request

Este erro é retornado quando não for possível interpretar a requisição e/ou o servidor tenta processar a solicitação, mas algum parâmetro da solicitação não é válido, por exemplo, um recurso formatado incorretamente ou uma tentativa de requisição com dados faltantes. As informações sobre a solicitação são fornecidas no corpo da resposta e incluem um código de erro e uma mensagem de erro.

**a- Item obrigatório:** Esta mensagem é exibida no singular ou plural quando um ou mais itens obrigatórios não tiver sido enviado na chamada da API.\
**Mensagem** - O(s) item(ns) listado(s) é(são) obrigatório(s): “nome dos itens separados por vírgula”.

**b- Formato incorreto:** Esta mensagem é exibida no singular ou plural quando um ou mais itens estiverem sido enviados com formato incorreto.\
**Mensagem** - O(s) item(ns) listado(s) está(ão) com o formato incorreto: “nome dos itens separados por vírgula”.

**c- Ids inexistente:** Esta mensagem é exibida no singular ou plural quando um ou mais Id enviado não existir.\
**Mensagem** - **O(s) id(s) listado(s) não existe(m): “nome dos itens que são Ids de tabela, separados por vírgula”.**

**d- Algum parâmetro está incorreto ou é inexistente:** Esta mensagem é exibida quando a chamada é feita com algum parâmetro escrito errado ou quando é enviado uma informação que não existe no método.\
**Mensagem** - Algum parâmetro está incorreto ou é inexistente.

### Erro: 401 – Unauthorized

Este erro é retornado quando

* A chave de autenticação da API ArqSign está incorreta ou não foi informada corretamente.
* Conta está com status diferente de Ativo.

### Erro: 404 - Not Found

Este erro é retornado quando o recurso solicitado ou o _endpoint_ não foi localizado.

### Erro: 422 - Unprocessable

Este erro é retornado quando a requisição foi recebida com sucesso, porém contém parâmetros inválidos.

### Erro: 500 - Server Error

Este erro é retornado quando:

* Ocorre um erro interno no servidor.
* Ocorre uma falha na plataforma ArqSign.
* Formato do parâmetro incorreto.
* Formato do JSON incorreto.

## Retorno Sucesso

Ao executar o envio do processo com sucesso, o sistema retorna:

* Id do processo
* Ids, ordem e nomes dos documentos do processo
* Dados dos destinatários.

&#x20;Code 200 – OK

### Retorno - Exemplo Body Response

```json
{
    "IdProcesso": "guid",
    "documentos": [
        {
            "id": "guid",
            "ordem": "tinyint",
            "nome": "string"
        },
        {
            "id": "guid",
            "ordem": "tinyint",
            "nome": "string"
        }
    ],
    "destinatarios": [
        {
            "idProcessoDestinatario": "guid",
            "ordem": 1, // 
            "formaEnvio": "string",
            "nomeSignatario": "String",
            "configuracoesAnexos": [
                {
                    "id": "guid",
                    "nome": "string"
                }
            ]
        }
    ]
}
```

> #### 1. idProcesso
>
> O sistema retorna o id do processo criado.
>
> #### 2. documentos
>
> Neste objeto o sistema retorna os id’s e o nomes dos documentos do processo.
>
> Um processo por ter uma ou mais documentos.
>
> > #### 2.1. idDocumento
> >
> > O sistema retorna o id do documento do processo.
> >
> > #### 2.2. ordem
> >
> > O sistema retorna a ordem do documento do processo.
> >
> > #### 2.3. nomeDocumento
> >
> > O sistema retorna o nome do documento do processo criado.
>
> #### 3. destinatários
>
> Neste objeto o sistema retorna os dados de cada destinatário participante do processo de assinatura dos documentos.
>
> > #### 3.1. idProcessoDestinatario
> >
> > O sistema retorna o id do processo destinatário gerado.
> >
> > #### 3.2. ordem
> >
> > O sistema retorna a _ordem de assinatura_ informada no parâmetro **ordemAssinatura (9.2)**.
> >
> > #### 3.3. formaEnvio
> >
> > O sistema retorna a forma de envio do processo para o destinatário, e-mail ou telefone informado no parâmetro <mark style="color:red;">**email (9.5) ou telefone(9.6)**</mark>.
> >
> > **3.4. nomeSignatario**
> >
> > O sistema retorna o _nome do signatário_ informado no parâmetro nome **(9.4)**.
> >
> > **3.5. configuracoesAnexos**
> >
> > Para os destinatários que possuírem configuração de anexos do processo, o sistema retorna os ids das configurações e os nomes configurados para os anexos **(9.7.6).**
> >
> > Quando o destinatário não possuir configuração de anexos do processo, o sistema retorna
> >
> > **anexos: null**
> >
> > > **3.5.1. id**
> > >
> > > O sistema retorna o id da configuração de anexo gerado, se houver.
> > >
> > > **3.5.2. nome**
> > >
> > > O sistema retorna o nome configurado para o anexo do processo.
> > >
> > > Valor informado no parâmetro **anexoDocumentoNome (9.7.6.1)**

&#x20;
